<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Angular Widgetbox Demo</title>
    <meta name="description" content="Angular Widgetbox Demo">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600,800' rel='stylesheet' type='text/css'>
    <script src="bower_components/microload/microload.min.js"></script>

    <style type="text/css" media="screen">
      body {
        font-family: "Open Sans";
        font-weight: 300;
        color: #424242;
        background: #fce4ec;
        overflow-y:scroll;
      }
      
      header {
        text-align: center;
        padding-bottom: 5px;
        margin-bottom: 15px;
        border-bottom: solid 1px #880e4f;
      }
      
      header > h1 {
        margin: 10px 0 5px;
      }
      
      header > p {
        margin: 5px 0;
      }
    </style>
  </head>

  <body>
    <header>
      <h1>A demo of microload</h1>
      <p>The background should already be blue and you should see a bunch of statements after this one.</p>
    </header>
    
    <script type="text/javascript">
      function echo(str){
        var p = document.createElement('p');
        p.innerHTML = str;
        document.body.appendChild(p);
      }

      microload(['static/sample-data/microload/dependency-1.js', 'static/sample-data/microload/dependency-2.js'], 
                ['static/sample-data/microload/dependee-1.js', 'static/sample-data/microload/dependee-2.js'], 
                ['static/sample-data/microload/standalone-1.js', 'static/sample-data/microload/standalone-2.js', 
                 'static/sample-data/microload/stylesheet.css'], function(){ 
        echo("Loaded first batch of scripts. Let's wait and load them again.");

        setTimeout(function(){
          microload('static/sample-data/microload/standalone-1.js', 'static/sample-data/microload/dependee-2.js', function(){
            echo("Scripts already loaded. Executing callback only.");
          });
        }, 2000);
      
      });
    </script>
  </body>
</html>